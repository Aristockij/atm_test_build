(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{4035:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activate",function(){return i(5619)}])},5619:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSG:function(){return y},default:function(){return B}});var a=i(5893),c=i(7294),_=i(5804),r=i(929),n=i(8986),o=i.n(n),d=i(3845),l=i(9993),u=i(3577),s=i(9574),f=i(1163),p=i(124),m=i(1775);let g="/keys/free",T=async e=>await (0,m.z)().post("".concat(g,"/activate/"),e),k=async e=>await m.V.post("".concat(g,"/preview/"),e);var y=!0,B=e=>{let{localization:t}=e,i=t.ADD_CERTIFICATE,n=(0,c.useRef)(),m=(0,f.useRouter)(),[g,y]=(0,u.Iq)(),B=g.userData,S=(0,p.U)({apiKey:"keys"});(0,p.U)();let[h,v]=(0,c.useState)(!1),[I,x]=(0,c.useState)(!1),[b,N]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(0,_.J)(n,N)},[n]);let O=async e=>{if(e.preventDefault(),e.stopPropagation(),I||!S.value)return;x(!0);let t=B?T:k;t({keys:[S.value]}).then(e=>{let t=e.data;if(0===t.length){S.setErrors(["Ключ не найден"]);return}(0,u.yR)(y,S.value),console.log(B),console.log(B?s.l.SUCCESS:s.l.SIGNUP),m.push(B?s.l.SUCCESS:s.l.SIGNUP)}).catch(()=>{S.setErrors(["Ключ невалидный"])}).finally(()=>{x(!1)})};return(0,a.jsxs)(d.Z,{localization:t,children:[(0,a.jsx)("video",{ref:n,className:o().certificate__background,style:{display:b?"block":"none"},autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:(0,a.jsx)("source",{src:"/assets/videos/main-background.mp4",type:"video/mp4"})}),(0,a.jsxs)("div",{className:o().certificate,children:[(0,a.jsx)(r.Z,{hideSignIn:!0,localization:t,isLoginHint:!0}),(0,a.jsx)("main",{className:o().certificate__content,children:(0,a.jsxs)("form",{className:o().certificate__form,onSubmit:O,children:[(0,a.jsx)("h1",{className:o().certificate__title,children:i.TITLE}),(0,a.jsx)(l.Z,{className:o().certificate__input,placeholder:i.INPUT_PLACEHOLDER,value:S.value,onChange:e=>S.setValue(e),errorText:S.error,showValidation:h}),(0,a.jsx)("button",{type:"submit",className:o().certificate__submit,children:i.SUBMIT_BUTTON})]})})]})]})}},8986:function(e){e.exports={carousel:"add-certificate_carousel__BcBEB","control-dots":"add-certificate_control-dots__mUs2b",certificate:"add-certificate_certificate__GSZMk","certificate__form-row":"add-certificate_certificate__form-row__h7Kik",signup__input:"add-certificate_signup__input__B_cj7",certificate__background:"add-certificate_certificate__background__5v4hy",certificate__content:"add-certificate_certificate__content___nIvM",certificate__form:"add-certificate_certificate__form__1T9Mf",certificate__title:"add-certificate_certificate__title__pNnDF",certificate__input:"add-certificate_certificate__input__8sqSL",certificate__submit:"add-certificate_certificate__submit__JaGEd",runningLine:"add-certificate_runningLine__4W5kq",runningLineSecondary:"add-certificate_runningLineSecondary__oeK8p",fadeInAnimation:"add-certificate_fadeInAnimation__pw8q_",fadeOutAnimation:"add-certificate_fadeOutAnimation__VjpF8",wavy:"add-certificate_wavy__XwzLq","wavy-reversed":"add-certificate_wavy-reversed__S8BcS",figureIncrease:"add-certificate_figureIncrease__nz59Z",carPropertyAnimation:"add-certificate_carPropertyAnimation__9ijlB",carPropertyAnimationOut:"add-certificate_carPropertyAnimationOut__Dpejg",largeBookButtonText:"add-certificate_largeBookButtonText__THGk9",largeBookButtonTextMedium:"add-certificate_largeBookButtonTextMedium__sLlNc",largeBookButtonTextOut:"add-certificate_largeBookButtonTextOut__r1vzb",largeBookButtonIcon:"add-certificate_largeBookButtonIcon__oVnIq",largeBookButtonIconOut:"add-certificate_largeBookButtonIconOut__OYgnk",detailItemFadeout:"add-certificate_detailItemFadeout__OxL3s",detailTitle:"add-certificate_detailTitle__OpnVZ",detailTitleMobile:"add-certificate_detailTitleMobile__1mqye",detailTitleOut:"add-certificate_detailTitleOut__TrAGX",detailTitleOutMobile:"add-certificate_detailTitleOutMobile__aZDmI",pulse:"add-certificate_pulse__pWfyk",textShine:"add-certificate_textShine__epTSx"}}},function(e){e.O(0,[664,141,762,244,774,888,179],function(){return e(e.s=4035)}),_N_E=e.O()}]);