(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{4035:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activate",function(){return i(5619)}])},5619:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSG:function(){return y},default:function(){return S}});var a=i(5893),c=i(7294),r=i(5804),_=i(929),n=i(8986),o=i.n(n),d=i(3845),u=i(9993),s=i(3577),f=i(9574),l=i(1163),p=i(124),m=i(1775);let g="/keys/free",k=async e=>await (0,m.z)().post("".concat(g,"/activate/"),e),B=async e=>await m.V.post("".concat(g,"/preview/"),e);var y=!0,S=e=>{let{localization:t}=e,i=t.ADD_CERTIFICATE,n=(0,c.useRef)(),m=(0,l.useRouter)(),[g,y]=(0,s.Iq)(),S=g.userData,T=(0,p.U)({apiKey:"keys"});(0,p.U)();let[h,v]=(0,c.useState)(!1),[x,I]=(0,c.useState)(!1),[N,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(0,r.J)(n,w)},[n]);let E=async e=>{if(e.preventDefault(),e.stopPropagation(),x||!T.value)return;I(!0);let t=S?k:B;t({keys:[T.value]}).then(e=>{let t=e.data;if(0===t.length){T.setErrors(["Ключ не найден"]);return}(0,s.yR)(y,T.value),console.log(S),console.log(S?f.l.SUCCESS:f.l.SIGNUP),m.push(S?f.l.SUCCESS:f.l.SIGNUP)}).catch(()=>{T.setErrors(["Ключ невалидный"])}).finally(()=>{I(!1)})};return(0,a.jsxs)(d.Z,{localization:t,children:[(0,a.jsx)("video",{ref:n,className:o().certificate__background,style:{display:N?"block":"none"},autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:(0,a.jsx)("source",{src:"/assets/videos/main-background.mp4",type:"video/mp4"})}),(0,a.jsxs)("div",{className:o().certificate,children:[(0,a.jsx)(_.Z,{hideSignIn:!0,localization:t,isLoginHint:!0}),(0,a.jsx)("main",{className:o().certificate__content,children:(0,a.jsxs)("form",{className:o().certificate__form,onSubmit:E,children:[(0,a.jsx)("h1",{className:o().certificate__title,children:i.TITLE}),(0,a.jsx)(u.Z,{className:o().certificate__input,placeholder:i.INPUT_PLACEHOLDER,value:T.value,onChange:e=>T.setValue(e),errorText:T.error,showValidation:h}),(0,a.jsx)("button",{type:"submit",className:o().certificate__submit,children:i.SUBMIT_BUTTON})]})})]})]})}},8986:function(e){e.exports={carousel:"add-certificate_carousel__BcBEB","control-dots":"add-certificate_control-dots__mUs2b",certificate:"add-certificate_certificate__GSZMk","certificate__form-row":"add-certificate_certificate__form-row__h7Kik",signup__input:"add-certificate_signup__input__B_cj7",certificate__background:"add-certificate_certificate__background__5v4hy",certificate__content:"add-certificate_certificate__content___nIvM",certificate__form:"add-certificate_certificate__form__1T9Mf",certificate__title:"add-certificate_certificate__title__pNnDF",certificate__input:"add-certificate_certificate__input__8sqSL",certificate__submit:"add-certificate_certificate__submit__JaGEd",runningLine:"add-certificate_runningLine__4W5kq",runningLineSecondary:"add-certificate_runningLineSecondary__oeK8p",fadeInAnimation:"add-certificate_fadeInAnimation__pw8q_",fadeOutAnimation:"add-certificate_fadeOutAnimation__VjpF8",wavy:"add-certificate_wavy__XwzLq","wavy-reversed":"add-certificate_wavy-reversed__S8BcS",figureIncrease:"add-certificate_figureIncrease__nz59Z",carPropertyAnimation:"add-certificate_carPropertyAnimation__9ijlB",carPropertyAnimationOut:"add-certificate_carPropertyAnimationOut__Dpejg",largeBookButtonText:"add-certificate_largeBookButtonText__THGk9",largeBookButtonTextMedium:"add-certificate_largeBookButtonTextMedium__sLlNc",largeBookButtonTextOut:"add-certificate_largeBookButtonTextOut__r1vzb",largeBookButtonIcon:"add-certificate_largeBookButtonIcon__oVnIq",largeBookButtonIconOut:"add-certificate_largeBookButtonIconOut__OYgnk",detailItemFadeout:"add-certificate_detailItemFadeout__OxL3s",detailTitle:"add-certificate_detailTitle__OpnVZ",detailTitleOut:"add-certificate_detailTitleOut__TrAGX",pulse:"add-certificate_pulse__pWfyk",textShine:"add-certificate_textShine__epTSx"}}},function(e){e.O(0,[664,141,762,244,774,888,179],function(){return e(e.s=4035)}),_N_E=e.O()}]);